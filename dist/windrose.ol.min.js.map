{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/windrose.html","webpack:///./src/impl/ol/js/windrosecontrol.js","webpack:///./src/impl/ol/js/imagesrc.js","webpack:///./src/facade/js/windrosecontrol.js","webpack:///./src/facade/js/windrose.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","WindroseControlImpl","position","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","M","impl","Control","map","html","_get","olMap","getMapImpl","addEventListener","_this2","on","e","drawWindRose","setTimeout","resolution","getView","getResolution","setResolution","ctx","context","image","Image","src","dX","dY","canvas","angle","target","getRotation","x","width","y","height","translate","rotate","drawImage","WindroseControl","windrosecontrol_classCallCheck","utils","isUndefined","exception","windrosecontrol_possibleConstructorReturn","windrosecontrol_getPrototypeOf","template","compileSync","control","Windrose","options","arguments","length","undefined","windrose_classCallCheck","windrose_possibleConstructorReturn","windrose_getPrototypeOf","map_","controls_","className","includes","metadata_","api","metadata","Plugin","removeEventListener","control_","push","addControls","removeControls","_ref","aControl","window","plugin","M$plugin$Windrose","M$plugin$WindroseControl","MapEffectsControl","M$impl$control$MapEffectsControl"],"mappings":"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","file":"windrose.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = \"<div class=\\\"m-windrose\\\">\\n  <div class=\\\"m-windrose-container\\\">\\n  </div>\\n</div>\";","import imageSrc from './imagesrc';\n\n/**\n * @module M/impl/control/MapEffectsControl\n */\nexport default class WindroseControlImpl extends M.impl.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a WindroseControlImpl\n   * control\n   *\n   * @constructor\n   * @extends {M.impl.Control}\n   * @api stable\n   */\n  constructor(position) {\n    super();\n    this.position = position;\n  }\n\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // super addTo - don't delete\n    super.addTo(map, html);\n    const olMap = map.getMapImpl();\n\n    this.addEventListener(olMap);\n  }\n\n  addEventListener(olMap) {\n    olMap.on('postcompose', e => this.drawWindRose(e));\n\n    // Force the first postcompose\n    setTimeout(() => {\n      const resolution = olMap.getView().getResolution();\n      olMap.getView().setResolution(resolution - 0.000001);\n    }, 500);\n  }\n\n  drawWindRose(e) {\n    const ctx = e.context;\n    const image = new Image();\n    image.src = imageSrc;\n    const { canvas } = ctx;\n    const olMap = e.target;\n    const angle = olMap.getView().getRotation();\n    const x = canvas.width;\n    const y = canvas.height;\n    const width = 100;\n    const height = 100;\n    let dX;\n    let dY;\n\n    switch (this.position) {\n      case 'TR':\n        dX = 50;\n        dY = y - 50;\n        break;\n      case 'TL':\n        dX = x - 50;\n        dY = y - 50;\n        break;\n      case 'TC':\n        dX = (x / 2);\n        dY = y - 50;\n        break;\n      case 'BR':\n        dX = 50;\n        dY = 50;\n        break;\n      case 'BL':\n        dX = x - 50;\n        dY = 50;\n        break;\n      case 'BC':\n        dX = (x / 2);\n        dY = 50;\n        break;\n      case 'RC':\n        dX = 50;\n        dY = (y / 2);\n        break;\n      case 'LC':\n        dX = x - 50;\n        dY = (y / 2);\n        break;\n      default: // BC\n        dX = (x / 2);\n        dY = 50;\n        break;\n    }\n\n    ctx.translate(x - dX, y - dY);\n    ctx.rotate(angle);\n    ctx.drawImage(image, -width / 2, -height / 2, width, height);\n    ctx.rotate(-angle);\n    ctx.translate(-x + dX, -y + dY);\n  }\n}\n","// Imagen windrose234x234 en base64\n\nexport const imgSrc = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOoAAADqCAQAAAAGnRHFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfjBR0JLigH9FnnAAAAAW9yTlQBz6J3mgAAEhVJREFUeNrtnXt0FFWegD+eikFBQAgQR0cFZFBHfAELUWYZcUWRoKzLYdxRYWePwziuOs7D1fGBIqO72IDgGB4CIkdxUXRkXRUVkfcI8k54dCCEQHgnJJAAIan9I5Xq6u6q6upOV9/Orfv14Zx63C5+VV+qq+rWvfcHCoVCoVAoFAqFQqFQKBQKhUKhUCgUCoUiCTQRHYDHjKEtUMassHkI8ono0BSJ8jXH0ahkhD6/Bg2NM7wpOjBFQwhwBo3tdAKgPQfQWCQ6KG9pKjqAFLCPLfRgGgDH+A74TnRI3uIHqfAc5dzNnwAooZp5ogPyFn9I/ZgZtOAJBgMaxzgqOiBv8YdUeIpv6chLQCXVooPxGr9IhT+yl1t4kyo00aF4jfxS6/dwHeOp4kE6iA5I0XC+psSYnovGYfaKDknRUPag8bA+3ZItaEpqY2c6tWhsob8+n0OF/FJlv6bewG4KaMVAff5jZlErOihF8rlVdAAKhUKhUCgU6UUOL4sOQZFsJlHDz0QHkRpkf04NcRNNuUt0EKnBP1I76/8U0pBFJRq7RIeRGvxypo6mFdBadBipwS9SLwEgk5GiA0kFfpGazX4A+ogOJBX4RepFFALQTXQgqcAfUq8jSz9TrxYdSirwh9SRnOAAABdznuhgvMcfUjtwQp9qx2jRwXiPP6QOYJMx3V10MN7jD6mtKTKme4sOxnv8IHUQXfnGmMsSHY73+EHqEEr41JjL1Ds1SowfpHbmlGkugzGiA/IaP0i9mVVh85miA/IaP0i9kMNh8wNEB+Q18ksdRQc+ClvSVnRIXiO/1JspZm3Ykq6yVxbKL7U7FRFLWvKA6KC8RX6pPVgetay96KC8RXaprWjHsail2aLD8hbZpY4mgzlRSy8UHZa3yC61G8UURC3tKvdjjexSb+C4xdJmDBMdmJfILrVLRG1SPVLX/8ottTOdKbZc0090aF4it9Qx1PC25ZoM0aF5idxSO3LY4oEGoDP3iQ7OO+SWmu0wEovE979yS23DZtt1V4gOzjtklvoTssizXdtLdHjeIbPUX1Buc5sE0JbmogP0CpmldqCMGtu17eVtASyz1AFsdVzfU3SAXiGz1NbscVx/negAvUJeqbeRFSMBwmWiQ/QKeaUO5WCMVCUdZR3QWV6pmVTGKHGhrLdK8krtY/N+xkxX0UF6g7xSW3MoZpn+LrbTCJFV6v1c4iJF38Wiw/QGWaX2o5iVMUtlcZXoQL1AVqlXcdJFqZY8KDpQL5BVak+L1r5WSNkCOP2lvsXrcX+nJRfbvByPJP4WwJezkMdFHxRn0l9qEY/yPTlxfWc0rXnHVcl4WwA/xXfcahpBQpEgX6JRoec/dUeA3RbLNIvPOfq63upNLOYkNbwk+oDIwAD2UobGD67P16Wsj1pmLVXjVZfbfJYdbKTaxT21cNL/5xdWMJu9lNCb+UyniYtvXBrHoe/ooswgvmYIG+jFCcaLPhzysIxc9qOhsZnhMcp2pELPamzG7kzdEfP/Hkc+AXKpptb1ea1wwR3k8YiutZLZNHMo+ycqLM4/O6nFOHE3K1jJUHKpRuPvog+DbLzCMnJ0rRrbGGFbcgpBi6V2UjXusd3Sa+TzCuhKyxxKKhJkBePIoVhXUcm7nG9Zbj1LLZbaSw1YbiWH1SxjMPVKNSaJPgAyMpQ8sk1aNXbwrxbldltqspf6kUXpN8jnz0BI6TrRuy8rE/kSwrRW8n5EVV93zvCIxXftpUb+WOewii/0Fvz1Sivk7vwolpU8Q7hWjQJ+bSrxMsdoafFNe6lHTA92Tcglnz/oc/VKNd4UveMyM4w8bgRy2GfSUsWHXKmX+KvlbZKTVM0Y2G44q/mYa/S5kNINondbdqayGIjUqlHEUwBsNQ0uacZJagBoztts5VGjfEjpqThrnhUJsJIngWitp1nMTRTa3M06SV3CCNaygC5G6ZBSjRmid9gP5LCVHvrUvgg9JZzjfstvOUmt5IewloVmpZtdRKRIArlGi94ciqK0WuMktSrsDtqs9BT3it5Z/7DaeGyJ1GqXz81Jqqb/oEO4Us2h15wi6dzLZqPVbrjWeTbfcJY6WS8VrnQbLUTvqL+YxQJjOoe9hoj/tinvLLVunNFwpZU2V2eFZzRjLQ8Zc/Vaa7jVpryz1AIildqf8woPGcEG04DMdVrtB+5wlnqamZwLW7K98Y5g2BhaPtixkM1M1ac7cT3LqOVcgts6jzFh72irGB81TrAiJbRlB1NZQ5Aq4wybbVPW+Uw9QJBS0/yCuOJIMxrjYBbN+QXX05Or6ECbqDRfD9HEdK11xw5+z6e04BGu4Ea6kMmdBCliE/nM4azoHZaZuwmwkCCHHc85Dc1ihF+nMzWfoRFlM/lPpvADuznLUYJ8QsChpYUibm7iNd5mV9jLttifOVHbCbhWaqYX48llG3s5xwGCzGOi7ON6e8flvMQ0trAn4p40ca2BBJSayeZV3mEH+6lhL3m8xSuyZ81IDh14msmsp4AzCao0f+aGbTtgqfTuBKIczussIshRzrKbjUzhz/JnpYqX8/k1AZYSpCIJKu20BpKkNEQTfkWArwhygkqCrGQSj9Fa9OEUy0gCfEqQY0lWaa01kGSlZi7iSSazmgKqKCXI/xHgl676EqSY5ymkkJ30AO5kJ4UU8iwAj7KVQgrZzRMJbHcQrzOfICUeqrTSGvBMqZnLeYFpbGYP1RwiyAcEGNKA7fXlPYIUU0yQdxuepbkJi9Ao0Z9k7+UYGs/o67qzn3P8NY6tXcsEppNPEbUpkhn6vBMl1SulZm5kAjPJZx817GMHs3iVm+Lcxi8pYDEBAmygGo0dDW9Y058TaDytzwXR+MxYV+CqC0IWL/AGm9jN2ZSrjNQakpoKpWZuZyLvsYuDnGMPW5jKOH7s4nv/zFG93RXAS1Sikd/w9INr0fRmXnVS9+vXiWGcNZpRRtOGJ5ikX2FEqgzXWi811UrNjCLA/xLkOKcp4Hsm8wfbAQouoIAvwpZMREPjtYYGMY5QB6K61kC/B2C2xduQZowhwJcEKROu0OqzUbjSEC0ZS4BvCXKSCoJ8TYB/j2itPI7oDiE70dgSe/POdb/TGEtXHmMKv+FiPmMI2fwXMJCvTKXu4SGuo02aj/T3U6Cc1QxikOhQdDawgSZ0py238I/ABErJY63eA/bnFt/4im60ir1hZ6mH2E5/BjKFf2I9nzKE3sCvaB/2LqQnfYzGldUUUyv6aFnu52XARTwsOhAH2tGOK7lUl2rVGfpUfBu04wU0CmlJCY8Be9H4LR9b9NMeToBFBDmi17K8wXNkiT5KBn3YhkYlNcIvAnafMoJ8SYAxxhvuIBpfRuzHi1h354qTthymlpn6wBgfovERB/QrqxVNGUOAJXotS4FeyyK2DUGdUo0guQnXJHvzqaKA1UziCYt72gVonOCusGWTqEpOQt+laJSSC8Bv0KhyaDJipi1PMpk1Ri3L5wR4SEAtS19daV3vtnTQepbdbGIqL/Ajh7j/hUo0Npquoeezk78l56A8h0Y5t+hzRWjMinMLl/EiU/ValsMEWcjrEX+BqVBa32VRlNZaishnBhNcD/OeSw0am/Q3ubewnC2uhh1xQSsOscKYW0RFAwZUvZ4JzCCfImooZjuzedX4c/GCfialoX6oqdV6kF3MZ2JC99xvchSNMxQQZBfzuMDd19z8HD7DNj7Wp3PolZRBZ27nTjpzM63pQDEVLOcY89iZhC2H6MdMfmKaLzDGDM2NaGaWfI5TynZ2sZb3G7Sd7ozhPOAU011e9nAn1VtGcTPduJp2ZFDMcVZxgLc50uDt/gMzwpSapXql9RQH2cdGdjCH094fOjvES62nFQ/TjRvoSia1HGYfG9nJjAQbfUYrDZeaTK1nKaaMFRxkZhL+GJNA+kgN0Yl/oyPZtCGLk5SST5A1cTXatFIaKbWhWmso5iTLOM4ci6znQklHqSG68SDtuJXWZHGECr6nhM/4Jsa3+jPdQmm01MS07qeSlRzhQ73/TRqS3lJD9GUEHejPBWSyn5Os5AgfsNGi5AByLZVaSXWv9QjlbGQf39gMPpBWNBapIYYxkMu5lja0pZgTLOcIcyjS12bzlo1Sa6nOWk9wlCD5bOYdh1SAaUfjk1pPcx7kGkaQBVRRQgnrOMQDtkrtpEZrraKaQpayl1mUi95N//G7uJqSBm23M12vvNvIFJ6jE4+7SFSk8ISeUeM9FCYo9T/QKAsbcvZToz+dIqUsipA2N0bPNnupk9AitPZmmxq4LvWMjWgBNRcYmaDUlXqJMtNYLE+barwVKSGL3VFKAcfWxPZSC4wyZq1fJJA8RdEAPgjTNcdYvisBqZdSaSoV0tqfvLRopuYTRodpmGNaMz8Bqc9HlAtpfdFlHipFg2nHThulfVmRgNSpUSVPGFqXMkH07vqD+TZKnyGfOQ6Ny+ykbmI162y0DmYbd4jeYfkZZfrpDTVU/TnfsIocMA2T5VbqHgLA62EDeYS0TuBb0bssO63It1D6MnnGSGfb4pT6U6r1QZzvYU1Y9616rSt4UfRuy83cKKVDWM4K011qbpxSJ4QNt/4KR6K0DiXPdhw1RYMZYfz01iudSH5EQr3xcUqdEbF8MN+aGqaVcx8wkSWid11WmrJVP9R1A7bew0q+jmql18u226S11Hw+jFr2vKkSo07rKqNvriKpzApTOpXteuaYSHbHJbXIcnj2fnxuvAEq5z5yyOMG0QdAPoZzylCawyoW2/bL3hiH1NuptR1054/G2E0V3GckZFAkkU2G0lzyHHrzwBtxSJ3omMDvahbprw0quI9V/E70QZCLunvaWQxnNR9yhWPZZ+OQ+n7MVJu/ZY+u9XHyGj6UhqKeHE6iMYvZbGZszNJd9B9qN1KDtqOOhujEAirRqOB/ktGRUFHHD2gs4u9Red3sCLqWeshlmtuH2YlGBdvCUpApEmYqGoWst8zAaM13LqU+wDn6uNxmBvOppJYCIyGDImGGUU4l82xypVozyaXUAIVxxXI/eWh8IPqQNH7WOmY1tuZRl1I/czPWSRjNmcMxlYCoodyeQH+XCzjuSmowoRSat6V75oE0Dw9YkkDb+EqOuyiVQXuOJRDRsrQcf8ZE+ktNDDfdlx/mAsuB2Rs9skqNVaUAcBXF6dYJMTnIKnW9izI3uvqRboTIKvVdDsUs00XWHjOySoWTMdZ3JdOxMr8RI6/U72OsH02NrNlR5ZV6IMb6jhxO6IGmESCv1M/RHNdnx1lF2IiQV+qSGFfMi+KuImw0yCvVeXTca8giT3SAXiGzVKf+paMol/U2SW6pRx3WtaesMY23Eh8yS33fYQi8bLaKDs87ZJa6iX2261qzR3R43iGzVGyziv+MrnwnOjjvkFuqXT/wuzjIItHBeYfcUu1ulTonKxmIIvVcGjYsT6g5SzAiYa5kyH2m7rOpAc5w8WKuESO3VDhosWwklxg5AaREdqlWL+D6UCzr6/E6ZJdq9TTaLeYLdEVac5Ep8Wf9jVIwrhzNjRDZz9TyqMea82kn68vxemSXSlS7/NFk6FnKpUV+qfkR890oTnKmqrRDfqmbIuZvoEx0SF4jv9S5EVmdulqk9JUM+aVqYRkrMsmM2c6w0SO/VNhgmh5tjMMkMX6Qan5VnskhDosOyGv8IPUrUwvgAQ6tIaTBD1I/Y78x3dYyP5xk+EFqqAVwT7Jc9Vxt5HibxDld6E1voJRmXMcD8jYNrccfZ2r9k2p7SjkrOhjv8YfUhXoL4Gx5u1qY8YfUdXpnqdZyjvEQSXPRAaSICqAlXeVu8eA3pqFRI38FYR3++PmtawHcVLX2lYsfcxqNeaLDSA1+OVP3sB/kbu0bwi9S4Si1/E10EKnBL3e/sJhqmXu6KRQKhUKhSD5NRAeQInowlttoynKWyN3jDfzySJPD51zBt2QwloGig1Ekhzz97cwwKpgkOhjv8cOZ2o2ryaAn8Ilf6pTkpz2laGymD3AeLUSH4z1+aKNUxRVcSxfuoIZV6Z5+ROGe5zmCxmnm+eKC4xsGsxoNjfdEB6JIBjk8q0+9i+aHFvp+IGA0N+vEcYpEh+M9/rjC/EhPZXslLdgsOhjv8cf71Ob8hes4zR0EeUx0MN7jh0ealpTSnu50YSGjKBUdjkKhUCgUCoVCoVAoFAqFQqFQKBQKhUKhUChE8f+8F4zWtPDqPAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wNS0yOVQwOTo0Njo0MCswMDowMF3HCXsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDUtMjlUMDk6NDY6NDArMDA6MDAsmrHHAAAAAElFTkSuQmCC';\nexport default imgSrc;\n","/**\n * @module M/plugin/WindroseControl\n */\nimport template from 'templates/windrose';\nimport WindroseControlImpl from 'impl/windrosecontrol';\n\nexport default class WindroseControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a windroseControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor(position) {\n    // 1. checks if the implementation can create windroseControl\n    if (M.utils.isUndefined(WindroseControlImpl)) {\n      M.exception('La implementaci√≥n usada no puede crear controles windroseControl');\n    }\n    // 2. implementation of this control\n    const impl = new WindroseControlImpl(position);\n    super(impl, 'Windrose');\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    return M.template.compileSync(template);\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   */\n  equals(control) {\n    return control instanceof WindroseControl;\n  }\n}\n","/**\n * @module M/plugin/Windrose\n */\nimport 'assets/css/windrose';\nimport WindroseControl from './windrosecontrol';\nimport api from '../../api';\n\nexport default class Windrose extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Class name of the html view Plugin\n     * @type {string}\n     */\n    this.className = 'm-plugin-windrose';\n\n    /**\n     * Position of the Plugin\n     * Posible values: TR | TL | TC| BL | BR | BC | RC | LC\n     * @type {Enum}\n     */\n    const positions = ['TR', 'TL', 'TC', 'BL', 'BR', 'BC', 'RC', 'LC'];\n    this.position = positions.includes(options.position) ? options.position : 'BC';\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    map.getMapImpl().removeEventListener('postcompose');\n    this.control_ = new WindroseControl(this.position);\n    this.controls_.push(this.control_);\n    this.map_ = map;\n    map.addControls(this.controls_);\n  }\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  destroy() {\n    this.map_.getMapImpl().removeEventListener('postcompose');\n    this.map_.removeControls([this.control_]);\n\n    // Force the map to remove the imagen windrose\n    setTimeout(() => {\n      const resolution = this.map_.getMapImpl().getView().getResolution();\n      this.map_.getMapImpl().getView().setResolution(resolution - 0.000001);\n      [this.controls_, this.map_] = [null, null];\n    }, 500);\n  }\n\n  /**\n   * This function return the control of plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getControls() {\n    const aControl = [];\n    aControl.push(this.controls_);\n    return aControl;\n  }\n\n  /**\n   * @getter\n   * @public\n   */\n  get name() {\n    return 'windrose';\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n}\n","import M$plugin$Windrose from './/facade/js/windrose';\nimport M$plugin$WindroseControl from './/facade/js/windrosecontrol';\nimport M$impl$control$MapEffectsControl from './/impl/ol/js/windrosecontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Windrose = M$plugin$Windrose;\nwindow.M.plugin.WindroseControl = M$plugin$WindroseControl;\nwindow.M.impl.control.MapEffectsControl = M$impl$control$MapEffectsControl;\n"],"sourceRoot":""}